<!DOCTYPE html>
<html lang=en>
<head>
<meta charset=UTF-8>
<meta name=viewport content="width=device-width, initial-scale=1.0">
<title>Document</title>
<link as=style href=https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/css/bootstrap.min.css media=all rel=stylesheet />
<script crossorigin=anonymous integrity='sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==' src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/js/bootstrap.min.js></script>
<link rel=stylesheet href=//cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css media=all>
</head>
<body>
<style>#temp{position:fixed;height:0;top:0;left:0;overflow:hidden}</style>
<div class=xulyhinhanh>
<label>Cỡ chữ</label>
<select class="custom-select mr-sm-2 mb-2 tad-cochu">
<option value=100>Nhỏ</option>
<option value=120 selected>Vừa</option>
<option value=150>Lớn</option>
</select>
<label><b>Nhập chữ dòng 1*</b></label>
<input class="form-control tad-in-text1 mb-2" value placeholder="Nhập chữ không dấu" style=text-transform:uppercase>
<label><b>Nhập chữ dòng 2*</b></label>
<input class="form-control tad-in-text2 mb-2" placeholder="Tạo ảnh đẹp" value>
<div class=mt-3>
<button type=button class="btn btn-primary disabled" id=tad-taoanh><i class="fas fa-cut"></i> Tạo ảnh</button>
</div>
<center><div class="load-anh my-2 my-2 spinner-border text-primary" role=status style=display:none> <span class=sr-only>Loading...</span> </div>
</center>
<label class="mt-3 tad-ketqua" style=display:none> Kết quả: </label>
<div id=img-out class=my-2></div>
<a href=# class="btn btn-block btn-primary" id=tad-taianhve style=display:none><i class="fas fa-cloud-download-alt"></i> Tải ảnh về</a>
<img alt=anhnen class=d-none crossorigin=anonymous height=0 id=scream src=https://1.bp.blogspot.com/-a-H560lq-R0/YLhM1rm5UqI/AAAAAAAAtV4/utsaNxmJAGUnOC-kZnbsig2Xko7-tAOEwCNcBGAsYHQ/s0/cover-glitch.jpg width=0>
<canvas id=temp width=1702 height=630></canvas>
<script>$(document).ready(function(){var i="";function h(){t1=$(".tad-in-text1").val();t2=$(".tad-in-text2").val();cochu=$(".tad-cochu").val();const a=document.getElementById("temp");const e=a.getContext("2d");e.clearRect(0,0,a.width,a.height);var l=t1.length;var m=t2.length;e.save();e.globalCompositeOperation="lighten";e.fillStyle="red";e.font=cochu+"px Edo SZ";var b=t1.toUpperCase();var f=e.measureText(b).width;e.fillText(b,(a.width/2)-(f/2)+7,300);e.restore();e.save();e.globalCompositeOperation="lighten";e.fillStyle="cyan";e.font=cochu+"px Edo SZ";var b=t1.toUpperCase();var f=e.measureText(b).width;e.fillText(b,(a.width/2)-(f/2)-7,300);e.restore();e.save();e.fillStyle="white";e.font=cochu+"px Edo SZ";var b=t1.toUpperCase();var f=e.measureText(b).width;e.fillText(b,(a.width/2)-(f/2),300);e.restore();e.save();e.fillStyle="#fca0a0";e.font="25px Arial";var f=e.measureText(t2).width;e.fillText(t2,(a.width/2)-(f/2)-2,370);e.restore();e.save();e.fillStyle="white";e.font="25px Arial";var f=e.measureText(t2).width;e.fillText(t2,(a.width/2)-(f/2),370);e.restore();e.save();e.globalCompositeOperation="lighten";const g=document.getElementById("scream");e.drawImage(g,0,0,a.width,a.height);e.restore();a.toBlob(function(n){var k=URL.createObjectURL(n);$("#img-out").html("<img src='"+k+"' alt='Tạo ảnh đẹp' class='img-thumbnail'></img>");$("#tad-taianhve").attr("download","taoanhdep--bia-glitch.jpg").attr("href",k)});$(".load-anh").show(0).delay(2000).hide(0);$("#img-out,.tad-ketqua,#tad-taianhve").hide(0).delay(2000).show(0)}var j=$(".tad-in-text1");var c=$(".tad-in-text2");j.on("input",function(){d()});c.on("input",function(){d()});function d(){if(undefined!==j.val()&&j.val().length==0){$("#tad-taoanh").addClass("disabled")}else{if(undefined!==c.val()&&c.val().length==0){$("#tad-taoanh").addClass("disabled")}else{$("#tad-taoanh").removeClass("disabled")}}}$("#tad-taoanh").click(function(){document.fonts.load('10pt "Edo SZ"').then(h)})});</script>
</body>
</html>