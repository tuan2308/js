function timnv(){var a,k,l,m,i,n,j;a=document.getElementById("tad-timnv");k=a.value.toUpperCase();l=document.getElementById("tad-chonkieu");m=l.getElementsByTagName("div");for(n=0;n<m.length;n++){i=m[n].getElementsByTagName("span")[0];j=i.textContent||i.innerText;if(j.toUpperCase().indexOf(k)>-1){m[n].style.display=""}else{m[n].style.display="none"}}}$(document).ready(function(){if(window.location.hostname==tmbq){var g=document.getElementById("tad-chonkieu");dsAnime.forEach(function(c){var b=document.createElement("div");var a=c.imgAnime;var d=a.substring(a.lastIndexOf("/")+1,a.length).replace(/-/g," ").replace(/.png/g,"");b.setAttribute("dataImg",c.imgAnime);b.setAttribute("dataColor",c.colorBg);b.setAttribute("title",d);b.innerHTML="<span>"+d+"</span><i style='background-image: url("+c.imgAnime+");'></i>";g.appendChild(b)});$("#doimaunen").colorpicker().change(function(){var a=$("#doimaunen").val();$(".demomau").css("background-color",a);$(".active span").css("color",a);colorBg=a});$("#tad-chonkieu>div").click(function(){$("#tad-chonkieu>div").removeClass("active");$(this).addClass("active");var a=$(this).attr("dataImg").replace(/s120/g,"s0");var b=$(this).attr("dataColor");$("#tad-chonkieu>div>span").attr("style","");$(this).find("span").css("color",b);imgAnime=a;colorBg=b;$("#doimaunen").val(b).trigger("change");$("#doimaunen").colorpicker("setValue",b)});$("#tad-chonkieu").children("div:first-child").click();var h=$(".tad-in-text1");var e=$(".tad-in-text2");h.on("input",function(){f()});e.on("input",function(){f()});function f(){if(undefined!==h.val()&&h.val().length==0){$("#tad-taoanh").addClass("disabled")}else{if(undefined!==e.val()&&e.val().length==0){$("#tad-taoanh").addClass("disabled")}else{$("#tad-taoanh").removeClass("disabled")}}}$("#tad-taoanh").click(function(){$("#img-out").hide();$("#tad-taoanh").addClass("disabled").html("<span class='spinner-border spinner-border-sm'></span> Đang tạo ảnh");document.fonts.load('10pt "UTM Neutra"').then(function(){document.fonts.load('10pt "SVN-Big Noodle Titling"').then(function(){var a=new Image();a.crossOrigin="Anonymous";a.src="https://lh3.googleusercontent.com/-QBS5lKCXuQ8/YXZNUIksBMI/AAAAAAAAym0/l8L8DrKUmCsR1Yzg7JCnC-KtoW_4nNXbgCNcBGAsYHQ/s0/layer1.png";a.onload=function(){3;var b=new Image();b.crossOrigin="Anonymous";b.src="https://lh3.googleusercontent.com/-p0IHqcx8eWE/YXZN2izzTrI/AAAAAAAAym8/T-hqrJ2IFooUfHPeVTbiwu047RkmxGLzgCNcBGAsYHQ/s0/layer2.jpg";b.onload=function(){var c=new Image();c.crossOrigin="Anonymous";c.src=imgAnime;c.onload=function(){var d=new Image();d.crossOrigin="Anonymous";d.src="https://lh3.googleusercontent.com/-F8w1tQRZ9s0/YXZZmKaylRI/AAAAAAAAynI/HBoYISaw-LE2z8QOE39OGwTUiFjHUH6xgCNcBGAsYHQ/s0/layer4.png";d.onload=function(){t1=$(".tad-in-text1").val();t2=$(".tad-in-text2").val();var j=document.getElementById("temp");var p=j.getContext("2d");p.clearRect(0,0,j.width,j.height);p.save();p.fillStyle=colorBg;p.fillRect(0,0,j.width,j.height);p.restore();p.drawImage(a,0,0,j.width,j.height);p.save();p.globalCompositeOperation="multiply";p.drawImage(b,0,0,j.width,j.height);p.restore();p.save();p.transform(1,0,-0.2,1,0,0);p.fillStyle="#fff";p.fillRect(1600,166,150,627);p.globalAlpha=0.5;p.fillRect(1400,166,150,627);p.restore();p.save();p.globalAlpha=0.3;p.filter="grayscale(1)";p.globalCompositeOperation="multiply";p.drawImage(c,0,-320,j.width,j.width);p.restore();p.save();var n=p.createLinearGradient(0,0,0,1000);n.addColorStop(0,"#fff");n.addColorStop(0.3,"#fff");n.addColorStop(1,colorBg);p.fillStyle=n;p.transform(1,0,-0.2,1,0,0);p.textAlign="right";p.font="200px SVN-Big Noodle Titling";p.fillText(t1,1250,550);p.restore();p.save();p.fillStyle="#fff";p.textAlign="right";p.transform(1,0,-0.2,1,0,0);p.font="60px SVN-Big Noodle Titling";var o=p.measureText(t2).width;p.fillRect(j.width-o-500,580,o+50,75);p.fillStyle=colorBg;p.fillText(t2,1235,640);p.restore();p.drawImage(c,1100,93,700,700);p.drawImage(d,0,0,j.width,j.height);j.toBlob(function(k){var i=URL.createObjectURL(k);$("#img-out").html("<label class='mt-2'> Kết quả: </label><img src='"+i+"' alt='Tạo ảnh đẹp' class='img-thumbnail'></img><a href='"+i+"' class='btn btn-block btn-primary mt-2'  download='taoanhdep_"+tenanhxuat+"'><i class='fas fa-cloud-download-alt'></i> Tải ảnh về</a>");setTimeout(function(){$("#tad-taoanh").removeClass("disabled").html("<i class='fas fa-cut'></i> Tạo ảnh");$("#img-out").show()},1000)},"image/jpeg")}}}}})})})}});