function timnv(){var m,l,n,a,j,i,k;m=document.getElementById("tad-timnv");l=m.value.toUpperCase();n=document.getElementById("tad-chonkieu");a=n.getElementsByTagName("div");for(i=0;i<a.length;i++){j=a[i].getElementsByTagName("span")[0];k=j.textContent||j.innerText;if(k.toUpperCase().indexOf(l)>-1){a[i].style.display=""}else{a[i].style.display="none"}}}$(document).ready(function(){if(window.location.hostname==tmbq){var e=document.getElementById("tad-chonkieu");dsAnime.forEach(function(a){var d=document.createElement("div");var c=a.imgAnime;var b=c.substring(c.lastIndexOf("/")+1,c.length).replace(/-/g," ").replace(/.png/g,"");d.setAttribute("dataImg",a.imgAnime);d.setAttribute("dataColor",a.colorBg);d.setAttribute("title",b);d.innerHTML="<span>"+b+"</span><i style='background-image: url("+a.imgAnime.replace(/h240/g, "s120")+");'></i>";e.appendChild(d)});$("#doimaunen").colorpicker().change(function(){var a=$("#doimaunen").val();$(".demomau").css("background-color",a);$(".active span").css("color",a);colorBg=a});$("#tad-chonkieu>div").click(function(){$("#tad-chonkieu>div").removeClass("active");$(this).addClass("active");var a=$(this).attr("dataImg").replace(/h240/g,"s0");var b=$(this).attr("dataColor");$("#tad-chonkieu>div>span").attr("style","");$(this).find("span").css("color",b);imgAnime=a;colorBg=b;$("#doimaunen").val(b).trigger("change");$("#doimaunen").colorpicker("setValue",b)});$("#tad-chonkieu").children("div:first-child").click();var f=$(".tad-in-text1");var g=$(".tad-in-text2");f.on("input",function(){h()});g.on("input",function(){h()});function h(){if(undefined!==f.val()&&f.val().length==0){$("#tad-taoanh").addClass("disabled")}else{if(undefined!==g.val()&&g.val().length==0){$("#tad-taoanh").addClass("disabled")}else{$("#tad-taoanh").removeClass("disabled")}}}$("#tad-taoanh").click(function(){$("#img-out").hide();$("#tad-taoanh").addClass("disabled").html("<span class='spinner-border spinner-border-sm'></span> Đang tạo ảnh");document.fonts.load('10pt "UTM Neutra"').then(function(){document.fonts.load('10pt "SVN-Big Noodle Titling"').then(function(){var a=new Image();a.crossOrigin="Anonymous";a.src="https://lh3.googleusercontent.com/-QBS5lKCXuQ8/YXZNUIksBMI/AAAAAAAAym0/l8L8DrKUmCsR1Yzg7JCnC-KtoW_4nNXbgCNcBGAsYHQ/s0/layer1.png";a.onload=function(){3;var b=new Image();b.crossOrigin="Anonymous";b.src="https://lh3.googleusercontent.com/-p0IHqcx8eWE/YXZN2izzTrI/AAAAAAAAym8/T-hqrJ2IFooUfHPeVTbiwu047RkmxGLzgCNcBGAsYHQ/s0/layer2.jpg";b.onload=function(){var c=new Image();c.crossOrigin="Anonymous";c.src=imgAnime;c.onload=function(){var d=new Image();d.crossOrigin="Anonymous";d.src="https://lh3.googleusercontent.com/-F8w1tQRZ9s0/YXZZmKaylRI/AAAAAAAAynI/HBoYISaw-LE2z8QOE39OGwTUiFjHUH6xgCNcBGAsYHQ/s0/layer4.png";d.onload=function(){t1=$(".tad-in-text1").val();text2=$(".tad-in-text2").val();var t2=text2.split("").join(String.fromCharCode(8200));var p=document.getElementById("temp");var o=p.getContext("2d");o.clearRect(0,0,p.width,p.height);o.save();o.fillStyle=colorBg;o.fillRect(0,0,p.width,p.height);o.restore();o.drawImage(a,0,0,p.width,p.height);o.save();o.globalCompositeOperation="multiply";o.drawImage(b,0,0,p.width,p.height);o.restore();o.save();o.transform(1,0,-0.2,1,0,0);o.fillStyle="#fff";o.fillRect(1500,166,150,627);o.globalAlpha=0.5;o.fillRect(1300,166,150,627);o.restore();o.save();o.globalAlpha=0.3;o.filter="grayscale(1)";o.globalCompositeOperation="multiply";o.drawImage(c,0,-320,p.width,p.width);o.restore();o.save();var j=o.createLinearGradient(0,0,0,1000);j.addColorStop(0,"#fff");j.addColorStop(0.3,"#fff");j.addColorStop(1,"rgba(255, 255, 255, 0)");o.fillStyle=j;o.transform(1,0,-0.2,1,0,0);o.textAlign="right";o.font="200px SVN-Big Noodle Titling";o.fillText(t1,1235,535);o.restore();o.save();o.fillStyle="#fff";o.textAlign="right";o.transform(1,0,-0.2,1,0,0);o.font="60px SVN-Big Noodle Titling";var n=o.measureText(t2).width;o.fillRect(p.width-n-520,580,n+50,75);o.fillStyle=colorBg;o.fillText(t2,1215,640);o.restore();o.drawImage(c,1030,93,700,700);o.drawImage(d,0,0,p.width,p.height);setTimeout(function(){p.toBlob(function(i){var k=URL.createObjectURL(i);$("#img-out").html("<label class='mt-2'> Kết quả: </label><img src='"+k+"' alt='Tạo ảnh đẹp' class='img-thumbnail'></img><a href='"+k+"' class='btn btn-block btn-primary mt-2'  download='taoanhdep_"+tenanhxuat+"'><i class='fas fa-cloud-download-alt'></i> Tải ảnh về</a>");$("#tad-taoanh").removeClass("disabled").html("<i class='fas fa-cut'></i> Tạo ảnh");$("#img-out").show()},"image/jpeg")},1000)}}}}})})})}});