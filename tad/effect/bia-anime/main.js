function timnv(){var d,e,c,b,g,h,f;d=document.getElementById("tad-timnv");e=d.value.toUpperCase();c=document.getElementById("tad-chonkieu");b=c.getElementsByTagName("div");for(h=0;h<b.length;h++){g=b[h].getElementsByTagName("span")[0];f=g.textContent||g.innerText;if(f.toUpperCase().indexOf(e)>-1){b[h].style.display=""}else{b[h].style.display="none"}}}$(document).ready(function(){if(window.location.hostname==tmbq){var b=document.getElementById("tad-chonkieu");dsAnime.forEach(function(h){var e=document.createElement("div");var f=h.imgAnime;var g=f.substring(f.lastIndexOf("/")+1,f.length).replace(/-/g," ").replace(/.png/g,"");e.setAttribute("dataImg",h.imgAnime);e.setAttribute("dataColor",h.colorBg);e.setAttribute("title",g);e.innerHTML="<span>"+g+"</span><i style='background-image: url("+h.imgAnime+");'></i>";b.appendChild(e)});$("#doimaunen").colorpicker().change(function(){var e=$("#doimaunen").val();$(".demomau").css("background-color",e);$(".active span").css("color",e);colorBg=e});$("#tad-chonkieu>div").click(function(){$("#tad-chonkieu>div").removeClass("active");$(this).addClass("active");var f=$(this).attr("dataImg").replace(/s120/g,"s0");var e=$(this).attr("dataColor");$("#tad-chonkieu>div>span").attr("style","");$(this).find("span").css("color",e);imgAnime=f;colorBg=e;$("#doimaunen").val(e).trigger("change");$("#doimaunen").colorpicker("setValue",e)});$("#tad-chonkieu").children("div:first-child").click();var a=$(".tad-in-text1");var d=$(".tad-in-text2");a.on("input",function(){c()});d.on("input",function(){c()});function c(){if(undefined!==a.val()&&a.val().length==0){$("#tad-taoanh").addClass("disabled")}else{if(undefined!==d.val()&&d.val().length==0){$("#tad-taoanh").addClass("disabled")}else{$("#tad-taoanh").removeClass("disabled")}}}$("#tad-taoanh").click(function(){$("#img-out").hide();$("#tad-taoanh").addClass("disabled").html("<span class='spinner-border spinner-border-sm'></span> Đang tạo ảnh");document.fonts.load('10pt "UTM Neutra"').then(function(){document.fonts.load('10pt "SVN-Big Noodle Titling"').then(function(){var e=new Image();e.crossOrigin="Anonymous";e.src="https://lh3.googleusercontent.com/-QBS5lKCXuQ8/YXZNUIksBMI/AAAAAAAAym0/l8L8DrKUmCsR1Yzg7JCnC-KtoW_4nNXbgCNcBGAsYHQ/s0/layer1.png";e.onload=function(){3;var f=new Image();f.crossOrigin="Anonymous";f.src="https://lh3.googleusercontent.com/-p0IHqcx8eWE/YXZN2izzTrI/AAAAAAAAym8/T-hqrJ2IFooUfHPeVTbiwu047RkmxGLzgCNcBGAsYHQ/s0/layer2.jpg";f.onload=function(){var g=new Image();g.crossOrigin="Anonymous";g.src=imgAnime;g.onload=function(){var h=new Image();h.crossOrigin="Anonymous";h.src="https://lh3.googleusercontent.com/-F8w1tQRZ9s0/YXZZmKaylRI/AAAAAAAAynI/HBoYISaw-LE2z8QOE39OGwTUiFjHUH6xgCNcBGAsYHQ/s0/layer4.png";h.onload=function(){t1=$(".tad-in-text1").val();t2=$(".tad-in-text2").val();var i=document.getElementById("temp");var k=i.getContext("2d");k.clearRect(0,0,i.width,i.height);k.save();k.fillStyle=colorBg;k.fillRect(0,0,i.width,i.height);k.restore();k.drawImage(e,0,0,i.width,i.height);k.save();k.globalCompositeOperation="multiply";k.drawImage(f,0,0,i.width,i.height);k.restore();k.save();k.transform(1,0,-0.2,1,0,0);k.fillStyle="#fff";k.fillRect(1500,166,150,627);k.globalAlpha=0.5;k.fillRect(1300,166,150,627);k.restore();k.save();k.globalAlpha=0.3;k.filter="grayscale(1)";k.globalCompositeOperation="multiply";k.drawImage(g,0,-320,i.width,i.width);k.restore();k.save();var m=k.createLinearGradient(0,0,0,1000);m.addColorStop(0,"#fff");m.addColorStop(0.3,"#fff");m.addColorStop(1,"rgb(255 255 255 / 0%)");k.fillStyle=m;k.transform(1,0,-0.2,1,0,0);k.textAlign="right";k.font="200px SVN-Big Noodle Titling";k.fillText(t1,1230,535);k.restore();k.save();k.fillStyle="#fff";k.textAlign="right";k.transform(1,0,-0.2,1,0,0);k.font="60px SVN-Big Noodle Titling";var l=k.measureText(t2).width;k.fillRect(i.width-l-520,580,l+50,75);k.fillStyle=colorBg;k.fillText(t2,1215,640);k.restore();k.drawImage(g,1050,93,700,700);k.drawImage(h,0,0,i.width,i.height);i.toBlob(function(j){var n=URL.createObjectURL(j);$("#img-out").html("<label class='mt-2'> Kết quả: </label><img src='"+n+"' alt='Tạo ảnh đẹp' class='img-thumbnail'></img><a href='"+n+"' class='btn btn-block btn-primary mt-2'  download='taoanhdep_"+tenanhxuat+"'><i class='fas fa-cloud-download-alt'></i> Tải ảnh về</a>");setTimeout(function(){$("#tad-taoanh").removeClass("disabled").html("<i class='fas fa-cut'></i> Tạo ảnh");$("#img-out").show()},1000)},"image/jpeg")}}}}})})})}});