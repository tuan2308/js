<!DOCTYPE html>
<html>

    <link as='style' href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/css/bootstrap.min.css' media='all' rel='stylesheet' />

    <script crossorigin='anonymous'
        integrity='sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg=='
        src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js'></script>

    <script src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/js/bootstrap.min.js'></script>


   
   
   
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" media="all">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12/cropper.min.css" integrity="sha512-0SPWAwpC/17yYyZ/4HSllgaK7/gg9OlVozq8K7rf3J8LvCjYEEIfzzpnA2/SSjpGIunCSD18r3UhvDcu/xncWA==" crossorigin="anonymous" referrerpolicy="no-referrer">
    <script src="https://cdn.taoanhdep.com/tad/tv/tad-crop.js" type="text/javascript"></script>

    <body>
    <label><b>Upload ảnh*</b></label>
    <div class="xulyhinhanh mb-2">
    <div class="chonanh-avt">
    <div class="img-preview" style="width:36px;height:36px"><img alt="Tạo ảnh đẹp" crossorigin="anonymous" src="https://1.bp.blogspot.com/-z3RZ2G93tVo/YHES6yUdnzI/AAAAAAAArsw/Jq_pD24Pn-sEW-XwzGl18qlgIYQZZOeqgCNcBGAsYHQ/s0/blank.png" style="display:block;width:100px;height:100px;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;transform:none"></div>
    </div>
    <button type="button" class="btn btn-primary btn-chonanh" data-toggle="modal" data-target="#chonanhModal">
    <i class="fas fa-upload"></i> Chọn ảnh
    </button>
    <div class="modal fade" id="chonanhModal" tabindex="-1" role="dialog" aria-labelledby="chonanhModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
    <div class="modal-header">
    <h5 class="modal-title" id="chonanhModalLabel">Chọn ảnh từ thiết bị</h5>
    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
    <span aria-hidden="true">&#215;</span>
    </button>
    </div>
    <div class="modal-body">
    <div id="actions">
    <div class="docs-buttons">
    <label class="btn btn-primary btn-upload btn-upanh" for="inputImage" title="Upload image file">
    <input type="file" class="sr-only" id="inputImage" name="file" accept=".jpg,.jpeg,.png,.gif,.bmp,.tiff">
    <span><i class="fas fa-upload"></i> Chọn ảnh</span>
    </label>
    <div class="cropanh-container mt-2" style="display:none">
    <div class="img-container">
    <img alt="Tạo ảnh đẹp" src="https://1.bp.blogspot.com/-z3RZ2G93tVo/YHES6yUdnzI/AAAAAAAArsw/Jq_pD24Pn-sEW-XwzGl18qlgIYQZZOeqgCNcBGAsYHQ/s0/blank.png">
    </div>
    <div class="d-flex float-right">
    <div class="btn-group mr-2">
    <button type="button" class="btn btn-primary" data-method="rotate" data-option="-45" title="Rotate Left">
    <i class="fa fa-undo"></i>
    </button>
    <button type="button" class="btn btn-primary" data-method="rotate" data-option="45" title="Rotate Right">
    <i class="fa fa-redo"></i>
    </button>
    </div>
    <div class="btn-group mr-2">
    <button type="button" class="btn btn-primary" data-method="scaleX" data-option="-1" title="Flip Horizontal">
    <i class="fa fa-arrows-alt-h"></i>
    </button>
    <button type="button" class="btn btn-primary" data-method="scaleY" data-option="-1" title="Flip Vertical">
    <i class="fa fa-arrows-alt-v"></i>
    </button>
    </div>
    <button type="button" class="btn btn-primary" id="cropanh" data-method="getCroppedCanvas" data-dismiss="modal" data-option="{ &quot;width&quot;: 1000, &quot;height&quot;: 1000}">
    Cắt ảnh
    </button>
    </div>
    </div>
    </div>
    </div>
    </div>
    </div>
    </div>
    </div>
    </div>
<p>Image to use:</p>
<img id="scream" width="0" height="0" src="https://lh3.googleusercontent.com/proxy/d4IBUkfWEcFOYD7GT_eN3q_PAoPKsyExphF_plDZjleAmaI8lC3FHsh11-WrsPZJ2j8bkvimFM0F4RcZObe9tLUsyGA3VEXeQsns_o0x8SL_9eNiIQCQrP-2A68ei1ta9v-vRe-JxDVfRoFUWfMN1r13I_502Kl236YrF-TimDRe" alt="The Scream">

<img id="Cimg" width="0" height="0"
src="https://1.bp.blogspot.com/-DRSofUwONSw/YRxpBIerb8I/AAAAAAAAwbM/vz4XOf_wIuQViG7k-U6EN4i4D5N-FAQCgCNcBGAsYHQ/s100-c/bang-tho-chinh-loc-fuho.jpg" class="d-none" alt="The Scream">

<p>Canvas:</p>
<canvas id="myCanvas" width="500" height="500" style="display: none;">
Your browser does not support the HTML5 canvas tag.
</canvas>
<canvas id="myCanvas2" width="2000" height="1200" style="border:1px solid #d3d3d3;">
    Your browser does not support the HTML5 canvas tag.
    </canvas>

    <script>var tyle=1/1;vmode=1;var tenanhxuat="cover_blackwhite";</script>

<script>
window.onload = function() {

    var cimg = document.getElementById("Cimg");
            cimg.crossOrigin = "Anonymous";
            cimg.onload = function () {



var a = new Image();
                a.crossOrigin = "Anonymous";
                a.src = "https://1.bp.blogspot.com/-qrz_vIoXKCU/YU34Btum4eI/AAAAAAAAxmU/Ecjzj5UGcKQu0zEUKnH6JNrKYU0sentOACNcBGAsYHQ/s0/bg.jpg";
                a.onload = function () {


  var c1 = document.getElementById("myCanvas");
  var ctx = c1.getContext("2d");
  var img = document.getElementById("scream");


  ctx.drawImage(img,0,0);


  ctx.globalCompositeOperation = "color-dodge";


  ctx.filter = 'invert(1) blur(3px) brightness(105%)'

  ctx.drawImage(img,0,0);
  ctx.globalCompositeOperation = "color";
  ctx.fillStyle = "black";
ctx.fillRect(0, 0, c1.width, c1.height);


ctx.globalCompositeOperation = "color";

ctx.fillStyle = "#89a5f6";

ctx.fillRect(0, 0, c1.width, c1.height);

var c2 = document.getElementById("myCanvas2");
  var ctx = c2.getContext("2d");
  var img = document.getElementById("scream2");

  ctx.drawImage(a,0,0);
  ctx.globalCompositeOperation = "multiply";
  ctx.drawImage(c1,750,500,700,700);

}



            }}
</script>

</body>
</html>
