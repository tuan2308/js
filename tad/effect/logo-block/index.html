<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link as='style' href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/css/bootstrap.min.css'
        media='all' rel='stylesheet' />

    <script crossorigin='anonymous'
        integrity='sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg=='
        src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js'></script>

    <script src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/js/bootstrap.min.js'></script>


    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" media="all">

</head>

<body class="col-md-9">

    <style>
   .colorpicker-element{border-radius:.25rem!important}.demomau{position:absolute;padding:10px;right:0;margin:7px;border:2px solid #ddd;border-radius:3px;z-index:9;pointer-events:none}.has-search .form-control{padding-left:2.375rem}.has-search .form-control-feedback{position:absolute;z-index:2;display:block;width:2.375rem;height:2.375rem;line-height:2.375rem;text-align:center;pointer-events:none;color:#aaa}
#chonmaulogo li { overflow: hidden; width: 50px ; height: 50px ; line-height: 50px; border-radius: 100px ; transition: all .2s; margin: 10px ; text-align: center; cursor: pointer; }

#chonmaulogo .active:after {
    font-size: 38px;
    font-family: "Font Awesome 5 Free";
    font-weight: 900;
    content: "\f058";
    color: #fff;
    border-radius: 100%;
}

</style>
<br/>

<label><b>Nhập tên viết tắt*</b></label>
<input type="text" class="form-control tad-in-text1 mb-3" maxlength="6" placeholder="Nhập chữ">

<label><b>Chữ tên*</b></label>
<input type="text" class="form-control tad-in-text2 mb-3" placeholder="Nhập chữ">



<label>Chọn màu</label>
<ul class="list-inline row" id="chonmaulogo"> 

</ul>

<label>Đổi màu</label>
<div class="row">
<div class="col">
    <div class="input-group mb-3">
        <input class="form-control colorpicker-element" id="tad-color1" placeholder="Nhập mã màu" value="#00ffd1">
        <div class="demomau1 demomau" style="background-color: #00ffd1;"></div></div>

</div>
<div class="col">

    <div class="input-group mb-3">
        <input class="form-control colorpicker-element" id="tad-color2" placeholder="Nhập mã màu" value="#616ff2">
        <div class="demomau2 demomau" style="background-color: #616ff2;"></div></div>


</div>
</div>

<div>
    <button type="button" class="btn btn-primary disabled d-block" id="tad-taoanh"><i class="fas fa-cut"></i> Tạo
    ảnh</button>
    </div>
  


    <canvas id="temp" width="2000" height="2000" style="width: 100%;border: 2px solid #000;">
        Your browser does not support the canvas element.
    </canvas>

    <script>

listColor = [
{

c1: "#00ffd1",
c2: "#616ff2"
}
, 
{

c1: "#fff03f",
c2: "#f00fff"
}


];

var chonmau = document.getElementById("chonmaulogo");

listColor.forEach(function(listColor) {

    var dm = document.createElement('li');;


dm.style.backgroundImage = "linear-gradient(0deg, "+listColor.c1+" 0%, "+listColor.c2+" 100%)"

dm.setAttribute("dataC1",listColor.c1)
dm.setAttribute("dataC2",listColor.c2)

    chonmau.appendChild(dm);
})



$("#chonmaulogo>li").click(function(){

    $("#chonmaulogo>li").removeClass("active");
    $(this).addClass("active");
    
    var c1=$(this).attr("dataC1")
    var c2=$(this).attr("dataC2")

 


    $("#tad-color1").colorpicker("setValue",c1)
    $("#tad-color2").colorpicker("setValue",c1)
})



$(document).ready(function(){


	var b = $(".tad-in-text1");
		var a = $(".tad-in-text2");
		b.on("input", function() {
			d()
		});
		a.on("input", function() {
			d()
		});

		function d() {
			if (undefined !== b.val() && b.val().length == 0) {
				$("#tad-taoanh").addClass("disabled")
			} else {
				if (undefined !== a.val() && a.val().length == 0) {
					$("#tad-taoanh").addClass("disabled")
				} else {
					$("#tad-taoanh").removeClass("disabled")
				}
			}
		}


    var tadColor1 = $("#tad-color1").val();
    var tadColor2 = $("#tad-color2").val();

    draw();
function draw(){

        document.fonts.load('bold 10pt "SVN-Revolution"').then(function () {

            var a = new Image();
            a.crossOrigin = "Anonymous";
            a.src = "https://lh3.googleusercontent.com/-fJXKeIC8E2w/YY-PQO_pOzI/AAAAAAAA0rg/clQv41eetT0e3d1LZS6lgxuZ8ARbnzuywCNcBGAsYHQ/s0/Logo-block.png";
            a.onload = function () {



                var c = document.getElementById("temp");
                var ctx = c.getContext("2d");

                ctx.clearRect(0, 0, c.width, c.height);


                ctx.save();

                ctx.fillStyle = "#111";
                ctx.fillRect(0, 0, c.width, c.height);
                ctx.restore();
                ctx.save();
                ctx.globalCompositeOperation = "destination-out";

                ctx.drawImage(a, 0, 0, c.width, c.height);

                ctx.save();
                ctx.textAlign = "center";
                ctx.font = "300px SVN-Revolution";
                ctx.fillText("tad", c.width / 2, 1450);
                ctx.restore();

                ctx.save();
                ctx.textAlign = "center";
                ctx.font = "100px SVN-Revolution";
                ctx.fillText("Tạo ảnh đẹp", c.width / 2, 1650);
                ctx.restore();

                ctx.restore();

                ctx.globalCompositeOperation = "destination-over";
                var gradient2 = ctx.createLinearGradient(0, 0, 0, 2000);
                gradient2.addColorStop(0, tadColor1);
                gradient2.addColorStop(1, tadColor2);
                ctx.fillStyle = gradient2;

                ctx.fillRect(0, 0, c.width, c.height);







            }
        })

    }

        $("#tad-color1").colorpicker().change(function(){
            
            var e=$("#tad-color1").val();
            $(".demomau1").css("background-color",e);

             tadColor1 = e;
     
        draw();
        
        });


        $("#tad-color2").colorpicker().change(function(){


        var f=$("#tad-color2").val();
            $(".demomau2").css("background-color",f);

             tadColor2 = f;
     
        draw();  });

    })
    </script>

<link rel='stylesheet' href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-colorpicker/2.5.3/css/bootstrap-colorpicker.min.css"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-colorpicker/2.5.3/js/bootstrap-colorpicker.min.js"></script>


</body>

</html>