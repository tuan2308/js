<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link as='style' href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/css/bootstrap.min.css'
        media='all' rel='stylesheet' />

    <script crossorigin='anonymous'
        integrity='sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg=='
        src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js'></script>

    <script src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/js/bootstrap.min.js'></script>


    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" media="all">

</head>

<body>
 
    <link rel="stylesheet" media='all' href="https://cdn.taoanhdep.com/font/thuphap/stylesheet.css" />
    <link rel="stylesheet" media='all' href="https://cdn.taoanhdep.com/font/thuphap/stylesheet.css" />

    <div class="chondong mb-2">
        <div class="custom-control custom-radio custom-control-inline">
            <input type="radio" id="dong1" name="dong1" class="custom-control-input" checked="">
            <label class="custom-control-label" for="dong1">1 Dòng</label>
        </div>
        <div class="custom-control custom-radio custom-control-inline">
            <input type="radio" id="dong2" name="dong1" class="custom-control-input">
            <label class="custom-control-label" for="dong2">2 Dòng</label>
        </div>

        <div class="custom-control custom-radio custom-control-inline">
            <input type="radio" id="dong3" name="dong1" class="custom-control-input">
            <label class="custom-control-label" for="dong3">3 Dòng</label>
        </div>

    </div>

    <input type="text" class="form-control tad-in-text1 mb-2" value="Trương Ngọc Hoàng Lan" placeholder="Nhập tên dòng 1">
    <input type="text" class="form-control tad-in-text2 mb-2" style="display: none;" value="Ngọc" placeholder="Nhập tên dòng 3">
    <input type="text" class="form-control tad-in-text3 mb-2" style="display: none;" value="Tuấn" placeholder="Nhập tên dòng 3">

    <canvas id="temp" width="2000" height="760" style="border:1px solid #d3d3d3;width: 100%;">
        Your browser does not support the canvas element.
    </canvas>

    <div class="mt-3">
        <button type="button" class="btn btn-primary d-block" id="tad-taoanh"><i class="fas fa-cut"></i> Tạo
            ảnh</button>
    </div>

    <script>









        var dong =1;
        $(document).ready(function () {


            $("#dong1").click(function () {

                dong = 1

                $(".tad-in-text2").hide();
                $(".tad-in-text3").hide();
            });

            $("#dong2").click(function () {
                dong = 2
                $(".tad-in-text2").show();
                $(".tad-in-text3").hide();
            });

            $("#dong3").click(function () {
                dong = 3
                $(".tad-in-text2").show();
                $(".tad-in-text3").show();
            });

        })

        $("#tad-taoanh").click(function () {

            draw()

        });
        draw()
        function draw() {

            document.fonts.load('10pt "UTM ThuPhap Thien An"').then(function () {

                var a = new Image();
                a.crossOrigin = "Anonymous";
                a.src = "https://lh3.googleusercontent.com/-nUwoTGWnfGA/YZjFyVXf7MI/AAAAAAAA1Ug/XX9QE_4WbFMQZaIJrpkDzvoUzg7JkYPbACNcBGAsYHQ/s1700/thuphap1.jpg";
                a.onload = function () {

                    var c = document.getElementById("temp");
                    var ctx = c.getContext("2d");


                    ctx.drawImage(a, 0, 0, c.width, c.height);


                    ctx.textBaseline = 'middle';
                    ctx.textAlign = "center";
                    ctx.fillStyle = "#222";
                    var t1 = $(".tad-in-text1").val();
                    var t2 = $(".tad-in-text2").val();
                    var t3 = $(".tad-in-text3").val();

                    if (dong == 1) {
                        ctx.save();

                        var size = 150 - ctx.measureText(t1).width
           
                        if(size < 30){
                         size = 30
                        }

                        ctx.font = size + "px UTM ThuPhap Thien An";


                        ctx.fillText(t1, c.width / 2, c.height / 2);
                        ctx.restore();
                    }

                    if (dong == 2) {

                        ctx.save();
                        var size = 135 - ctx.measureText(t1).width

                        if(size < 30){
                         size = 30
                        }
                        ctx.font = size + "px UTM ThuPhap Thien An";

                        ctx.fillText(t1, c.width / 2, c.height / 2 - 100);

                        ctx.restore();

                        ctx.save();
                        var size2 = 135 - ctx.measureText(t2).width
                        if(size2 < 30){
                         size2 = 30
                        }
                        ctx.font = size2 + "px UTM ThuPhap Thien An";

                        ctx.fillText(t2, c.width / 2, c.height / 2 + 100);

                        ctx.restore();

                    }

                    if (dong == 3) {

                        ctx.save();
                        var size = 120 - ctx.measureText(t1).width
                        if(size < 30){
                         size = 30
                        }
                        ctx.font = size + "px UTM ThuPhap Thien An";

                        ctx.fillText(t1, c.width / 2, c.height / 2 - 150);

                        ctx.restore();



                        ctx.save();
                        var size2 = 120 - ctx.measureText(t2).width
                        if(size2 < 30){
                         size2 = 30
                        }
                        ctx.font = size2 + "px UTM ThuPhap Thien An";

                        ctx.fillText(t2, c.width / 2, c.height / 2);

                        ctx.restore();

                        ctx.save();
                        var size3 = 120 - ctx.measureText(t3).width
                        if(size3 < 30){
                         size3 = 30
                        }
                        ctx.font = size3 + "px UTM ThuPhap Thien An";

                        ctx.fillText(t3, c.width / 2, c.height / 2 + 150);

                        ctx.restore();

                    }


                }
            });
        }

    </script>



</body>

</html>